<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Classification Models • HDAnalyzeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Classification Models">
</head>
<body>
<p>








  pkgdown/extra.css

  

  </p>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">HDAnalyzeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/HDAnalyzeR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data_preprocessing.html">Data Preprocessing &amp; Quality Control Check</a></li>
    <li><a class="dropdown-item" href="../articles/data_imputation.html">Data Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/differential_expression.html">Differential Expression Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/classification.html">Classification Models</a></li>
    <li><a class="dropdown-item" href="../articles/post_analysis.html">Post Analysis: Pathway Enrichment &amp; Automated Literature Search</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/HDA1472/DA_RPackage/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Classification Models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/HDA1472/DA_RPackage/blob/main/vignettes/classification.Rmd" class="external-link"><code>vignettes/classification.Rmd</code></a></small>
      <div class="d-none name"><code>classification.Rmd</code></div>
    </div>

    
    
<p>In this vignette, we will demonstrate how to use the
<code>HDAnalyzeR</code> package to build classification models. We will
start by loading HDAnalyzeR and dplyr packages, widen the example
dataset and loading the metadata.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hda1472.github.io/DA_RPackage/">HDAnalyzeR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span> </span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="va">wide_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/widen_data.html">widen_data</a></span><span class="op">(</span><span class="va">example_data</span><span class="op">)</span></span>
<span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="va">example_metadata</span></span></code></pre></div>
<p>First, let’s start with a regularized regression LASSO model via
<code><a href="../reference/do_rreg.html">do_rreg()</a></code>. Exactly like in the previous vignette with the
differential expression functions, we have to state the case and
control(s) groups.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/do_rreg.html">do_rreg</a></span><span class="op">(</span><span class="va">wide_data</span>, <span class="va">metadata</span>, case <span class="op">=</span> <span class="st">"AML"</span>, control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"GLIOM"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for AML as case is starting...</span></span>
<span><span class="co">#&gt; $hypopt_res</span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_tune</span></span>
<span><span class="co">#&gt; # Tuning results</span></span>
<span><span class="co">#&gt; # 5-fold cross-validation using stratification </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;   splits          id    .metrics          .notes           .predictions      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [60/16]&gt;</span> Fold1 <span style="color: #949494;">&lt;tibble [10 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [160 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [60/16]&gt;</span> Fold2 <span style="color: #949494;">&lt;tibble [10 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [160 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [61/15]&gt;</span> Fold3 <span style="color: #949494;">&lt;tibble [10 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [61/15]&gt;</span> Fold4 <span style="color: #949494;">&lt;tibble [10 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [62/14]&gt;</span> Fold5 <span style="color: #949494;">&lt;tibble [10 × 5]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [140 × 6]&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Logistic Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = tune::tune()</span></span>
<span><span class="co">#&gt;   mixture = 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$train_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 76 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1   ABL1  ACAA1   ACAN    ACE2  ACOX1    ACP5    ACP6  ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00003  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      0.989 <span style="color: #BB0000;">NA</span>       0.330  1.37   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00004   3.41  3.38   1.69  <span style="color: #BB0000;">NA</span>      1.52   <span style="color: #BB0000;">NA</span>      0.841   0.582   1.70 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00005   5.01  5.05   0.128  0.401 -<span style="color: #BB0000;">0.933</span>  -<span style="color: #BB0000;">0.584</span>  0.026<span style="text-decoration: underline;">5</span>  1.16    2.73 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00007  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>      3.96   0.682  3.14    2.62   1.47    2.25    2.01 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00008   2.78  0.812 -<span style="color: #BB0000;">0.552</span>  0.982 -<span style="color: #BB0000;">0.101</span>  -<span style="color: #BB0000;">0.304</span>  0.376  -<span style="color: #BB0000;">0.826</span>   1.52 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00009   4.39  3.34  -<span style="color: #BB0000;">0.452</span> -<span style="color: #BB0000;">0.868</span>  0.395   1.71   1.49   -<span style="color: #BB0000;">0.028</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.200</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00010   1.83  1.21  -<span style="color: #BB0000;">0.912</span> -<span style="color: #BB0000;">1.04</span>  -<span style="color: #BB0000;">0.091</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.304</span>  1.69    0.092<span style="text-decoration: underline;">0</span>  2.04 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00011   3.48  4.96   3.50  -<span style="color: #BB0000;">0.338</span>  4.48    1.26   2.18    1.62    1.79 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00012   4.31  0.710 -<span style="color: #BB0000;">1.44</span>  -<span style="color: #BB0000;">0.218</span> -<span style="color: #BB0000;">0.469</span>  -<span style="color: #BB0000;">0.361</span> -<span style="color: #BB0000;">0.071</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">1.30</span>    2.86 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00013   1.31  2.52   1.11   0.997  4.56   -<span style="color: #BB0000;">1.35</span>   0.833   2.33    3.57 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 66 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$test_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 28 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1       ABL1  ACAA1    ACAN  ACE2   ACOX1   ACP5  ACP6 ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00001   3.39  2.76       1.71   0.033<span style="text-decoration: underline;">3</span> 1.76  -<span style="color: #BB0000;">0.919</span>   1.54  2.15  2.81 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00002   1.42  1.25      -<span style="color: #BB0000;">0.816</span> -<span style="color: #BB0000;">0.459</span>  0.826 -<span style="color: #BB0000;">0.902</span>   0.647 1.30  0.798</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00006   6.83  1.18      -<span style="color: #BB0000;">1.74</span>  -<span style="color: #BB0000;">0.156</span>  1.53  -<span style="color: #BB0000;">0.721</span>   0.620 0.527 0.772</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00016   1.79  1.36       0.106 -<span style="color: #BB0000;">0.372</span>  3.40  -<span style="color: #BB0000;">1.19</span>    1.77  1.07  2.00 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00022   7.07  5.67       3.68  -<span style="color: #BB0000;">0.458</span>  3.09   0.690   0.649 2.17  1.83 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00023   2.92 -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">070</span><span style="color: #BB0000;">6</span>  0.602  1.59   0.198  1.61    0.283 2.35  2.11 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00034   3.45  2.91       1.31   0.423  0.647  1.40    0.691 0.720 1.95 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00035   4.39  3.31       0.454  0.290  2.68   0.116  -<span style="color: #BB0000;">1.32</span>  0.945 2.14 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00038   2.23  1.42       0.484  1.72   1.46   0.074<span style="text-decoration: underline;">7</span>  1.82  0.109 4.27 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00039   4.26  0.572     -<span style="color: #BB0000;">1.97</span>  -<span style="color: #BB0000;">0.433</span>  0.208  0.790  -<span style="color: #BB0000;">0.236</span> 1.52  0.652</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 18 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$hypopt_vis</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res</span></span>
<span><span class="co">#&gt; $finalfit_res$final</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:  glmnet::glmnet(x = maybe_matrix(x), y = y, family = "binomial",      alpha = ~1) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Df  %Dev   Lambda</span></span>
<span><span class="co">#&gt; 1    0  0.00 0.266800</span></span>
<span><span class="co">#&gt; 2    1  1.83 0.254700</span></span>
<span><span class="co">#&gt; 3    1  3.50 0.243100</span></span>
<span><span class="co">#&gt; 4    1  5.02 0.232000</span></span>
<span><span class="co">#&gt; 5    1  6.43 0.221500</span></span>
<span><span class="co">#&gt; 6    1  7.72 0.211400</span></span>
<span><span class="co">#&gt; 7    3  9.52 0.201800</span></span>
<span><span class="co">#&gt; 8    3 11.49 0.192600</span></span>
<span><span class="co">#&gt; 9    3 13.31 0.183900</span></span>
<span><span class="co">#&gt; 10   3 15.00 0.175500</span></span>
<span><span class="co">#&gt; 11   4 16.57 0.167500</span></span>
<span><span class="co">#&gt; 12   5 18.61 0.159900</span></span>
<span><span class="co">#&gt; 13   6 20.71 0.152700</span></span>
<span><span class="co">#&gt; 14   7 22.79 0.145700</span></span>
<span><span class="co">#&gt; 15   7 24.95 0.139100</span></span>
<span><span class="co">#&gt; 16   7 26.98 0.132800</span></span>
<span><span class="co">#&gt; 17   8 29.02 0.126700</span></span>
<span><span class="co">#&gt; 18   8 31.10 0.121000</span></span>
<span><span class="co">#&gt; 19   8 33.05 0.115500</span></span>
<span><span class="co">#&gt; 20   9 34.96 0.110200</span></span>
<span><span class="co">#&gt; 21   9 37.02 0.105200</span></span>
<span><span class="co">#&gt; 22   9 38.97 0.100400</span></span>
<span><span class="co">#&gt; 23  11 40.83 0.095880</span></span>
<span><span class="co">#&gt; 24  11 42.63 0.091520</span></span>
<span><span class="co">#&gt; 25  12 44.57 0.087360</span></span>
<span><span class="co">#&gt; 26  12 46.54 0.083390</span></span>
<span><span class="co">#&gt; 27  13 48.46 0.079600</span></span>
<span><span class="co">#&gt; 28  13 50.34 0.075980</span></span>
<span><span class="co">#&gt; 29  15 52.15 0.072530</span></span>
<span><span class="co">#&gt; 30  15 53.92 0.069230</span></span>
<span><span class="co">#&gt; 31  16 55.68 0.066080</span></span>
<span><span class="co">#&gt; 32  16 57.41 0.063080</span></span>
<span><span class="co">#&gt; 33  17 59.08 0.060210</span></span>
<span><span class="co">#&gt; 34  17 60.68 0.057480</span></span>
<span><span class="co">#&gt; 35  17 62.19 0.054860</span></span>
<span><span class="co">#&gt; 36  18 63.63 0.052370</span></span>
<span><span class="co">#&gt; 37  18 65.02 0.049990</span></span>
<span><span class="co">#&gt; 38  18 66.35 0.047720</span></span>
<span><span class="co">#&gt; 39  19 67.63 0.045550</span></span>
<span><span class="co">#&gt; 40  19 68.88 0.043480</span></span>
<span><span class="co">#&gt; 41  19 70.07 0.041500</span></span>
<span><span class="co">#&gt; 42  19 71.20 0.039620</span></span>
<span><span class="co">#&gt; 43  19 72.29 0.037820</span></span>
<span><span class="co">#&gt; 44  19 73.34 0.036100</span></span>
<span><span class="co">#&gt; 45  19 74.34 0.034460</span></span>
<span><span class="co">#&gt; 46  20 75.33 0.032890</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; and 54 more lines.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$best</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   penalty</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  0.014<span style="text-decoration: underline;">6</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$final_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Logistic Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = 0.0145719990351355</span></span>
<span><span class="co">#&gt;   mixture = 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res</span></span>
<span><span class="co">#&gt; $testfit_res$metrics</span></span>
<span><span class="co">#&gt; $testfit_res$metrics$accuracy</span></span>
<span><span class="co">#&gt; [1] 0.68</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$sensitivity</span></span>
<span><span class="co">#&gt; [1] 0.73</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$specificity</span></span>
<span><span class="co">#&gt; [1] 0.62</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$auc</span></span>
<span><span class="co">#&gt; [1] 0.67</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$conf_matrix</span></span>
<span><span class="co">#&gt;           Truth</span></span>
<span><span class="co">#&gt; Prediction  0  1</span></span>
<span><span class="co">#&gt;          0 11  5</span></span>
<span><span class="co">#&gt;          1  4  8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$roc_curve</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-2-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$mixture</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res</span></span>
<span><span class="co">#&gt; $var_imp_res$features</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 33 × 4</span></span></span>
<span><span class="co">#&gt;    Variable Importance Sign  Scaled_Importance</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ANGPTL2       2.87  POS               100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> ADA           1.49  POS                52.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AMIGO2        1.26  NEG                43.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ACP6          1.22  NEG                42.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ACAN          1.11  NEG                38.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> ARSB          1.10  POS                38.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ADGRG1        0.930 POS                32.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> AK1           0.879 NEG                30.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> ANXA11        0.785 NEG                27.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> ACY1          0.781 NEG                27.2</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 23 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res$var_imp_plot</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-2-3.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $boxplot_res</span></span>
<span><span class="co">#&gt; Warning: Removed 72 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 20 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 52 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 20 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-2-4.png" width="700"></p>
<p>We can change several parameters in the <code><a href="../reference/do_rreg.html">do_rreg()</a></code>
function. For example, we can change the number of cross-validation
folds, the number of grid points for the hyperparameter optimization,
the number of cores to use, the feature correlation threshold, and even
the type of regularized regression. For more information, please refer
to the documentation.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/do_rreg.html">do_rreg</a></span><span class="op">(</span><span class="va">wide_data</span>, </span>
<span>        <span class="va">metadata</span>, </span>
<span>        case <span class="op">=</span> <span class="st">"AML"</span>, </span>
<span>        control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"GLIOM"</span><span class="op">)</span>, </span>
<span>        cv_sets <span class="op">=</span> <span class="fl">8</span>, </span>
<span>        grid_size <span class="op">=</span> <span class="fl">15</span>, </span>
<span>        ncores <span class="op">=</span> <span class="fl">2</span>, </span>
<span>        cor_threshold <span class="op">=</span> <span class="fl">0.7</span>, </span>
<span>        type <span class="op">=</span> <span class="st">"elnet"</span>,</span>
<span>        palette <span class="op">=</span> <span class="st">"cancers12"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for AML as case is starting...</span></span>
<span><span class="co">#&gt; $hypopt_res</span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_tune</span></span>
<span><span class="co">#&gt; # Tuning results</span></span>
<span><span class="co">#&gt; # 8-fold cross-validation using stratification </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 5</span></span></span>
<span><span class="co">#&gt;   splits          id    .metrics          .notes           .predictions      </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [66/10]&gt;</span> Fold1 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [66/10]&gt;</span> Fold2 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [66/10]&gt;</span> Fold3 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [66/10]&gt;</span> Fold4 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [66/10]&gt;</span> Fold5 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [150 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> <span style="color: #949494;">&lt;split [67/9]&gt;</span>  Fold6 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [135 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> <span style="color: #949494;">&lt;split [67/9]&gt;</span>  Fold7 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [135 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> <span style="color: #949494;">&lt;split [68/8]&gt;</span>  Fold8 <span style="color: #949494;">&lt;tibble [15 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [120 × 7]&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Logistic Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = tune::tune()</span></span>
<span><span class="co">#&gt;   mixture = tune::tune()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$train_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 76 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1   ABL1  ACAA1   ACAN    ACE2  ACOX1    ACP5    ACP6  ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00003  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      0.989 <span style="color: #BB0000;">NA</span>       0.330  1.37   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00004   3.41  3.38   1.69  <span style="color: #BB0000;">NA</span>      1.52   <span style="color: #BB0000;">NA</span>      0.841   0.582   1.70 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00005   5.01  5.05   0.128  0.401 -<span style="color: #BB0000;">0.933</span>  -<span style="color: #BB0000;">0.584</span>  0.026<span style="text-decoration: underline;">5</span>  1.16    2.73 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00007  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>      3.96   0.682  3.14    2.62   1.47    2.25    2.01 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00008   2.78  0.812 -<span style="color: #BB0000;">0.552</span>  0.982 -<span style="color: #BB0000;">0.101</span>  -<span style="color: #BB0000;">0.304</span>  0.376  -<span style="color: #BB0000;">0.826</span>   1.52 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00009   4.39  3.34  -<span style="color: #BB0000;">0.452</span> -<span style="color: #BB0000;">0.868</span>  0.395   1.71   1.49   -<span style="color: #BB0000;">0.028</span><span style="color: #BB0000; text-decoration: underline;">5</span>  0.200</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00010   1.83  1.21  -<span style="color: #BB0000;">0.912</span> -<span style="color: #BB0000;">1.04</span>  -<span style="color: #BB0000;">0.091</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.304</span>  1.69    0.092<span style="text-decoration: underline;">0</span>  2.04 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00011   3.48  4.96   3.50  -<span style="color: #BB0000;">0.338</span>  4.48    1.26   2.18    1.62    1.79 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00012   4.31  0.710 -<span style="color: #BB0000;">1.44</span>  -<span style="color: #BB0000;">0.218</span> -<span style="color: #BB0000;">0.469</span>  -<span style="color: #BB0000;">0.361</span> -<span style="color: #BB0000;">0.071</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">1.30</span>    2.86 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00013   1.31  2.52   1.11   0.997  4.56   -<span style="color: #BB0000;">1.35</span>   0.833   2.33    3.57 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 66 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$test_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 28 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1       ABL1  ACAA1    ACAN  ACE2   ACOX1   ACP5  ACP6 ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00001   3.39  2.76       1.71   0.033<span style="text-decoration: underline;">3</span> 1.76  -<span style="color: #BB0000;">0.919</span>   1.54  2.15  2.81 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00002   1.42  1.25      -<span style="color: #BB0000;">0.816</span> -<span style="color: #BB0000;">0.459</span>  0.826 -<span style="color: #BB0000;">0.902</span>   0.647 1.30  0.798</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00006   6.83  1.18      -<span style="color: #BB0000;">1.74</span>  -<span style="color: #BB0000;">0.156</span>  1.53  -<span style="color: #BB0000;">0.721</span>   0.620 0.527 0.772</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00016   1.79  1.36       0.106 -<span style="color: #BB0000;">0.372</span>  3.40  -<span style="color: #BB0000;">1.19</span>    1.77  1.07  2.00 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00022   7.07  5.67       3.68  -<span style="color: #BB0000;">0.458</span>  3.09   0.690   0.649 2.17  1.83 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00023   2.92 -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">070</span><span style="color: #BB0000;">6</span>  0.602  1.59   0.198  1.61    0.283 2.35  2.11 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00034   3.45  2.91       1.31   0.423  0.647  1.40    0.691 0.720 1.95 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00035   4.39  3.31       0.454  0.290  2.68   0.116  -<span style="color: #BB0000;">1.32</span>  0.945 2.14 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00038   2.23  1.42       0.484  1.72   1.46   0.074<span style="text-decoration: underline;">7</span>  1.82  0.109 4.27 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00039   4.26  0.572     -<span style="color: #BB0000;">1.97</span>  -<span style="color: #BB0000;">0.433</span>  0.208  0.790  -<span style="color: #BB0000;">0.236</span> 1.52  0.652</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 18 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$hypopt_vis</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res</span></span>
<span><span class="co">#&gt; $finalfit_res$final</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:  glmnet::glmnet(x = maybe_matrix(x), y = y, family = "binomial",      alpha = ~0.864285714285714) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Df  %Dev   Lambda</span></span>
<span><span class="co">#&gt; 1    0  0.00 0.308700</span></span>
<span><span class="co">#&gt; 2    1  1.58 0.294600</span></span>
<span><span class="co">#&gt; 3    1  3.05 0.281300</span></span>
<span><span class="co">#&gt; 4    1  4.42 0.268500</span></span>
<span><span class="co">#&gt; 5    1  5.69 0.256300</span></span>
<span><span class="co">#&gt; 6    2  6.91 0.244600</span></span>
<span><span class="co">#&gt; 7    3  8.81 0.233500</span></span>
<span><span class="co">#&gt; 8    3 10.68 0.222900</span></span>
<span><span class="co">#&gt; 9    3 12.42 0.212800</span></span>
<span><span class="co">#&gt; 10   3 14.04 0.203100</span></span>
<span><span class="co">#&gt; 11   6 15.79 0.193900</span></span>
<span><span class="co">#&gt; 12   6 17.98 0.185000</span></span>
<span><span class="co">#&gt; 13   6 20.04 0.176600</span></span>
<span><span class="co">#&gt; 14   7 22.10 0.168600</span></span>
<span><span class="co">#&gt; 15   7 24.18 0.160900</span></span>
<span><span class="co">#&gt; 16   7 26.15 0.153600</span></span>
<span><span class="co">#&gt; 17   8 28.09 0.146600</span></span>
<span><span class="co">#&gt; 18   8 30.11 0.140000</span></span>
<span><span class="co">#&gt; 19   8 32.02 0.133600</span></span>
<span><span class="co">#&gt; 20  10 33.98 0.127500</span></span>
<span><span class="co">#&gt; 21  10 35.99 0.121700</span></span>
<span><span class="co">#&gt; 22  11 37.93 0.116200</span></span>
<span><span class="co">#&gt; 23  11 39.79 0.110900</span></span>
<span><span class="co">#&gt; 24  12 41.63 0.105900</span></span>
<span><span class="co">#&gt; 25  12 43.63 0.101100</span></span>
<span><span class="co">#&gt; 26  12 45.53 0.096480</span></span>
<span><span class="co">#&gt; 27  15 47.36 0.092100</span></span>
<span><span class="co">#&gt; 28  15 49.30 0.087910</span></span>
<span><span class="co">#&gt; 29  15 51.14 0.083920</span></span>
<span><span class="co">#&gt; 30  15 52.89 0.080100</span></span>
<span><span class="co">#&gt; 31  17 54.61 0.076460</span></span>
<span><span class="co">#&gt; 32  17 56.32 0.072990</span></span>
<span><span class="co">#&gt; 33  17 57.95 0.069670</span></span>
<span><span class="co">#&gt; 34  17 59.50 0.066500</span></span>
<span><span class="co">#&gt; 35  18 60.99 0.063480</span></span>
<span><span class="co">#&gt; 36  18 62.41 0.060590</span></span>
<span><span class="co">#&gt; 37  18 63.78 0.057840</span></span>
<span><span class="co">#&gt; 38  19 65.09 0.055210</span></span>
<span><span class="co">#&gt; 39  19 66.37 0.052700</span></span>
<span><span class="co">#&gt; 40  19 67.59 0.050310</span></span>
<span><span class="co">#&gt; 41  19 68.76 0.048020</span></span>
<span><span class="co">#&gt; 42  20 69.88 0.045840</span></span>
<span><span class="co">#&gt; 43  20 70.96 0.043750</span></span>
<span><span class="co">#&gt; 44  20 72.00 0.041770</span></span>
<span><span class="co">#&gt; 45  21 73.02 0.039870</span></span>
<span><span class="co">#&gt; 46  21 74.01 0.038050</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; and 54 more lines.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$best</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   penalty mixture</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.000<span style="text-decoration: underline;">01</span>   0.864</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$final_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Logistic Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = 1e-05</span></span>
<span><span class="co">#&gt;   mixture = 0.864285714285714</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res</span></span>
<span><span class="co">#&gt; $testfit_res$metrics</span></span>
<span><span class="co">#&gt; $testfit_res$metrics$accuracy</span></span>
<span><span class="co">#&gt; [1] 0.61</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$sensitivity</span></span>
<span><span class="co">#&gt; [1] 0.6</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$specificity</span></span>
<span><span class="co">#&gt; [1] 0.62</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$auc</span></span>
<span><span class="co">#&gt; [1] 0.69</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$conf_matrix</span></span>
<span><span class="co">#&gt;           Truth</span></span>
<span><span class="co">#&gt; Prediction 0 1</span></span>
<span><span class="co">#&gt;          0 9 5</span></span>
<span><span class="co">#&gt;          1 6 8</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$roc_curve</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-3-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$mixture</span></span>
<span><span class="co">#&gt; [1] 0.8642857</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res</span></span>
<span><span class="co">#&gt; $var_imp_res$features</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 34 × 4</span></span></span>
<span><span class="co">#&gt;    Variable Importance Sign  Scaled_Importance</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ANGPTL2       2.37  POS               100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> ADA           1.60  POS                67.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AMIGO2        1.16  NEG                49.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ACP6          1.06  NEG                44.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ACAN          1.03  NEG                43.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AK1           0.938 NEG                39.7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ADGRG1        0.911 POS                38.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ACY1          0.898 NEG                37.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> AARSD1        0.847 NEG                35.8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> ANXA11        0.756 NEG                32.0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 24 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res$var_imp_plot</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-3-3.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $boxplot_res</span></span>
<span><span class="co">#&gt; Warning: Removed 71 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 21 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 50 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 21 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-3-4.png" width="700"></p>
<p>We can use a different variable to classify like <code>Sex</code> and
even a different algorithm like random forest via <code><a href="../reference/do_rf.html">do_rf()</a></code>.
Do not forget to change the <code>exclude_cols</code> parameter to
exclude the <code>Disease</code> column instead of default
<code>Sex</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/do_rf.html">do_rf</a></span><span class="op">(</span><span class="va">wide_data</span>, </span>
<span>      <span class="va">metadata</span>, </span>
<span>      variable <span class="op">=</span> <span class="st">"Sex"</span>, </span>
<span>      case <span class="op">=</span> <span class="st">"F"</span>, </span>
<span>      control <span class="op">=</span> <span class="st">"M"</span>, </span>
<span>      exclude_cols <span class="op">=</span> <span class="st">"Disease"</span>, </span>
<span>      palette <span class="op">=</span> <span class="st">"sex_hpa"</span>,</span>
<span>      points <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for F as case is starting...</span></span>
<span><span class="co">#&gt; $hypopt_res</span></span>
<span><span class="co">#&gt; $hypopt_res$rf_tune</span></span>
<span><span class="co">#&gt; # Tuning results</span></span>
<span><span class="co">#&gt; # 5-fold cross-validation using stratification </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;   splits            id    .metrics          .notes           .predictions</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [438/110]&gt;</span> Fold1 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [438/110]&gt;</span> Fold2 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [438/110]&gt;</span> Fold3 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [438/110]&gt;</span> Fold4 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [440/108]&gt;</span> Fold5 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble&gt;</span>    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$rf_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> rand_forest()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Random Forest Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   mtry = tune::tune()</span></span>
<span><span class="co">#&gt;   trees = 1000</span></span>
<span><span class="co">#&gt;   min_n = tune::tune()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Engine-Specific Arguments:</span></span>
<span><span class="co">#&gt;   importance = permutation</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: ranger </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$train_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 548 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1       ABL1  ACAA1    ACAN   ACE2   ACOX1    ACP5   ACP6 ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00001   3.39  2.76       1.71   0.033<span style="text-decoration: underline;">3</span>  1.76  -<span style="color: #BB0000;">0.919</span>   1.54    2.15   2.81</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00003  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>      0.989  <span style="color: #BB0000;">NA</span>      0.330   1.37   <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00007  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>          3.96   0.682   3.14   2.62    1.47    2.25   2.01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00008   2.78  0.812     -<span style="color: #BB0000;">0.552</span>  0.982  -<span style="color: #BB0000;">0.101</span> -<span style="color: #BB0000;">0.304</span>   0.376  -<span style="color: #BB0000;">0.826</span>  1.52</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00012   4.31  0.710     -<span style="color: #BB0000;">1.44</span>  -<span style="color: #BB0000;">0.218</span>  -<span style="color: #BB0000;">0.469</span> -<span style="color: #BB0000;">0.361</span>  -<span style="color: #BB0000;">0.071</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">1.30</span>   2.86</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00019   3.59  3.38       1.79  -<span style="color: #BB0000;">0.303</span>   1.59   0.604   1.71   -<span style="color: #BB0000;">0.837</span>  1.65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00020   1.80  1.70       2.77  -<span style="color: #BB0000;">1.04</span>    1.33  -<span style="color: #BB0000;">0.024</span><span style="color: #BB0000; text-decoration: underline;">7</span>  1.02    0.112  2.58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00021   6.28  6.57       1.62   0.650   0.392  0.113   1.09    1.07   2.07</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00023   2.92 -<span style="color: #BB0000;">0.000</span><span style="color: #BB0000; text-decoration: underline;">070</span><span style="color: #BB0000;">6</span>  0.602  1.59    0.198  1.61    0.283   2.35   2.11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00025   3.68  2.71       2.36   0.445   1.37   0.955  -<span style="color: #BB0000;">0.324</span>   1.51   1.82</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 538 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$test_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 184 × 102</span></span></span>
<span><span class="co">#&gt;    DAid  AARSD1  ABL1   ACAA1   ACAN   ACE2   ACOX1    ACP5  ACP6 ACTA2    ACTN4</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00…   5.01  5.05  0.128   0.401 -<span style="color: #BB0000;">0.933</span> -<span style="color: #BB0000;">0.584</span>   0.026<span style="text-decoration: underline;">5</span> 1.16   2.73  0.350  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00…   3.48  4.96  3.50   -<span style="color: #BB0000;">0.338</span>  4.48   1.26    2.18   1.62   1.79  0.233  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00…   1.79  1.36  0.106  -<span style="color: #BB0000;">0.372</span>  3.40  -<span style="color: #BB0000;">1.19</span>    1.77   1.07   2.00  0.980  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00…   7.07  5.67  3.68   -<span style="color: #BB0000;">0.458</span>  3.09   0.690   0.649  2.17   1.83  1.02   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00…   2.47  2.16 -<span style="color: #BB0000;">0.486</span>  <span style="color: #BB0000;">NA</span>      0.386 <span style="color: #BB0000;">NA</span>       1.38   0.536  1.86  0.009<span style="text-decoration: underline;">82</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00…   3.31  5.38  4.82    0.266  0.606  3.12    1.22   2.13   1.34 -<span style="color: #BB0000;">0.277</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00…   3.45  2.91  1.31    0.423  0.647  1.40    0.691  0.720  1.95  1.52   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00…   4.39  3.31  0.454   0.290  2.68   0.116  -<span style="color: #BB0000;">1.32</span>   0.945  2.14 -<span style="color: #BB0000;">0.008</span><span style="color: #BB0000; text-decoration: underline;">81</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00…   2.19  1.66 -<span style="color: #BB0000;">0.016</span><span style="color: #BB0000; text-decoration: underline;">7</span> -<span style="color: #BB0000;">0.567</span>  3.77   0.369   1.38   1.09   2.09  0.027<span style="text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00…   1.75  1.77  1.62   -<span style="color: #BB0000;">0.165</span> -<span style="color: #BB0000;">0.292</span> -<span style="color: #BB0000;">0.077</span><span style="color: #BB0000; text-decoration: underline;">9</span>  0.934  0.229  1.80 -<span style="color: #BB0000;">0.392</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 174 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 91 more variables: ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;, ADAM15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;, ADAMTS16 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;, ADGRG1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;, AGR3 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;, AIF1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, AKT1S1 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$hypopt_vis</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res</span></span>
<span><span class="co">#&gt; $finalfit_res$final</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> rand_forest()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Ranger result</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt;  ranger::ranger(x = maybe_data_frame(x), y = y, mtry = min_cols(~23L,      x), num.trees = ~1000, min.node.size = min_rows(~2L, x),      importance = ~"permutation", num.threads = 1, verbose = FALSE,      seed = sample.int(10^5, 1), probability = TRUE) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type:                             Probability estimation </span></span>
<span><span class="co">#&gt; Number of trees:                  1000 </span></span>
<span><span class="co">#&gt; Sample size:                      548 </span></span>
<span><span class="co">#&gt; Number of independent variables:  100 </span></span>
<span><span class="co">#&gt; Mtry:                             23 </span></span>
<span><span class="co">#&gt; Target node size:                 2 </span></span>
<span><span class="co">#&gt; Variable importance mode:         permutation </span></span>
<span><span class="co">#&gt; Splitrule:                        gini </span></span>
<span><span class="co">#&gt; OOB prediction error (Brier s.):  0.1044617 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$best</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;    mtry min_n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>    23     2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$final_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> rand_forest()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Random Forest Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   mtry = 23</span></span>
<span><span class="co">#&gt;   trees = 1000</span></span>
<span><span class="co">#&gt;   min_n = 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Engine-Specific Arguments:</span></span>
<span><span class="co">#&gt;   importance = permutation</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: ranger </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res</span></span>
<span><span class="co">#&gt; $testfit_res$metrics</span></span>
<span><span class="co">#&gt; $testfit_res$metrics$accuracy</span></span>
<span><span class="co">#&gt; [1] 0.55</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$sensitivity</span></span>
<span><span class="co">#&gt; [1] 0.18</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$specificity</span></span>
<span><span class="co">#&gt; [1] 0.92</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$auc</span></span>
<span><span class="co">#&gt; [1] 0.74</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$conf_matrix</span></span>
<span><span class="co">#&gt;           Truth</span></span>
<span><span class="co">#&gt; Prediction  0  1</span></span>
<span><span class="co">#&gt;          0 17  7</span></span>
<span><span class="co">#&gt;          1 75 85</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$metrics$roc_curve</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-4-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $testfit_res$mixture</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res</span></span>
<span><span class="co">#&gt; $var_imp_res$features</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 99 × 3</span></span></span>
<span><span class="co">#&gt;    Variable Importance Scaled_Importance</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ATXN10       0.029<span style="text-decoration: underline;">1</span>             100  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> ALPP         0.023<span style="text-decoration: underline;">3</span>              79.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> B4GALT1      0.022<span style="text-decoration: underline;">3</span>              75.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ART3         0.015<span style="text-decoration: underline;">1</span>              49.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ACE2         0.014<span style="text-decoration: underline;">1</span>              45.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> APBB1IP      0.013<span style="text-decoration: underline;">8</span>              44.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> AARSD1       0.010<span style="text-decoration: underline;">6</span>              32.8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ANGPTL3      0.010<span style="text-decoration: underline;">3</span>              31.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> AMIGO2       0.010<span style="text-decoration: underline;">2</span>              31.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> AGER         0.010<span style="text-decoration: underline;">1</span>              30.7</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 89 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var_imp_res$var_imp_plot</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-4-3.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $boxplot_res</span></span>
<span><span class="co">#&gt; Warning: Removed 275 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 175 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-4-4.png" width="700"></p>
<p>If our data have a single predictor, we can use
<code><a href="../reference/do_lreg.html">do_lreg()</a></code> instead of <code><a href="../reference/do_rreg.html">do_rreg()</a></code> to perform a
logistic regression. Random forest can be used as it was for multiple
predictors. Let’s also change the ratio of the training and testing
sets.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">one_pred_data</span> <span class="op">&lt;-</span> <span class="va">wide_data</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">DAid</span>, <span class="va">ANGPTL2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/do_lreg.html">do_lreg</a></span><span class="op">(</span><span class="va">one_pred_data</span>, </span>
<span>        <span class="va">metadata</span>, </span>
<span>        case <span class="op">=</span> <span class="st">"AML"</span>,</span>
<span>        control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"GLIOM"</span><span class="op">)</span>,</span>
<span>        ratio <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>        palette <span class="op">=</span> <span class="st">"cancers12"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Warning: All predictors are missing; cannot impute.</span></span>
<span><span class="co">#&gt; → <span style="color: #BBBB00; font-weight: bold;">A</span> | <span style="color: #BBBB00;">warning</span>: All predictors are missing; cannot impute.</span></span>
<span><span class="co">#&gt; There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x1</span></span>
<span><span class="co">#&gt; There were issues with some computations   <span style="color: #BBBB00; font-weight: bold;">A</span>: x2</span></span>
<span><span class="co">#&gt; Warning: All predictors are missing; cannot impute.</span></span>
<span><span class="co">#&gt; $fit_res</span></span>
<span><span class="co">#&gt; $fit_res$lreg_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Logistic Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glm </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fit_res$train_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 71 × 3</span></span></span>
<span><span class="co">#&gt;    DAid    ANGPTL2 Disease</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00003   2.80  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00004   1.92  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00005   2.05  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00007   2.18  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00008   2.10  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00009   2.27  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00010   0.435 1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00011   2.81  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00012   0.595 1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00013   1.94  1      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 61 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fit_res$test_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 3</span></span></span>
<span><span class="co">#&gt;    DAid    ANGPTL2 Disease</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00001  1.51   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00002  1.53   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00006  0.554  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00016  0.560  1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00018  1.08   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00020  1.47   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00022  1.11   1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00023  0.092<span style="text-decoration: underline;">4</span> 1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00034 <span style="color: #BB0000;">NA</span>      1      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00035 -<span style="color: #BB0000;">0.607</span>  1      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 20 more rows</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fit_res$final</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> logistic_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:  stats::glm(formula = ..y ~ ., family = stats::binomial, data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt; (Intercept)      ANGPTL2  </span></span>
<span><span class="co">#&gt;    -0.03184      0.71026  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Degrees of Freedom: 68 Total (i.e. Null);  67 Residual</span></span>
<span><span class="co">#&gt;   (2 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Null Deviance:       95.64 </span></span>
<span><span class="co">#&gt; Residual Deviance: 88.08     AIC: 92.08</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics</span></span>
<span><span class="co">#&gt; $metrics$accuracy</span></span>
<span><span class="co">#&gt; [1] 0.52</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics$sensitivity</span></span>
<span><span class="co">#&gt; [1] 0.67</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics$specificity</span></span>
<span><span class="co">#&gt; [1] 0.36</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics$auc</span></span>
<span><span class="co">#&gt; [1] 0.51</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics$conf_matrix</span></span>
<span><span class="co">#&gt;           Truth</span></span>
<span><span class="co">#&gt; Prediction  0  1</span></span>
<span><span class="co">#&gt;          0 10  9</span></span>
<span><span class="co">#&gt;          1  5  5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $metrics$roc_curve</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $boxplot_res</span></span>
<span><span class="co">#&gt; Warning: Removed 9 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 2 rows containing non-finite outside the scale range</span></span>
<span><span class="co">#&gt; (`stat_boxplot()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 7 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 2 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_point()`).</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-5-2.png" width="700"><code>We can also do multiclassification predictions with all available classes in the data via</code>do_rreg_multi()<code>and</code>do_rf_multi()<code>. The parameters are similar with the binary classification functions but in this case there are no</code>case<code>and</code>control`
arguments.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/do_rreg_multi.html">do_rreg_multi</a></span><span class="op">(</span><span class="va">wide_data</span>, </span>
<span>              <span class="va">metadata</span>, </span>
<span>              type <span class="op">=</span> <span class="st">"elnet"</span>,</span>
<span>              palette <span class="op">=</span> <span class="st">"cancers12"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Warning: Too little data to stratify.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> Resampling will be unstratified.</span></span>
<span><span class="co">#&gt; Sets are ready. Multiclassification model fitting is starting...</span></span>
<span><span class="co">#&gt; Warning: Too little data to stratify.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> Resampling will be unstratified.</span></span>
<span><span class="co">#&gt; $hypopt_res</span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_tune</span></span>
<span><span class="co">#&gt; # Tuning results</span></span>
<span><span class="co">#&gt; # 5-fold cross-validation using stratification </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 5</span></span></span>
<span><span class="co">#&gt;   splits           id    .metrics          .notes           .predictions       </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> <span style="color: #949494;">&lt;split [351/88]&gt;</span> Fold1 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [880 × 17]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="color: #949494;">&lt;split [351/88]&gt;</span> Fold2 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [880 × 17]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #949494;">&lt;split [351/88]&gt;</span> Fold3 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [880 × 17]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> <span style="color: #949494;">&lt;split [351/88]&gt;</span> Fold4 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [880 × 17]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> <span style="color: #949494;">&lt;split [352/87]&gt;</span> Fold5 <span style="color: #949494;">&lt;tibble [10 × 6]&gt;</span> <span style="color: #949494;">&lt;tibble [0 × 3]&gt;</span> <span style="color: #949494;">&lt;tibble [870 × 17]&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$elnet_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> multinom_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Multinomial Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = tune::tune()</span></span>
<span><span class="co">#&gt;   mixture = tune::tune()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$train_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 439 × 102</span></span></span>
<span><span class="co">#&gt;    DAid    AARSD1   ABL1  ACAA1   ACAN    ACE2  ACOX1    ACP5    ACP6  ACTA2</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00003  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      0.989 <span style="color: #BB0000;">NA</span>       0.330  1.37   <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00004   3.41  3.38   1.69  <span style="color: #BB0000;">NA</span>      1.52   <span style="color: #BB0000;">NA</span>      0.841   0.582   1.70 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00005   5.01  5.05   0.128  0.401 -<span style="color: #BB0000;">0.933</span>  -<span style="color: #BB0000;">0.584</span>  0.026<span style="text-decoration: underline;">5</span>  1.16    2.73 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00006   6.83  1.18  -<span style="color: #BB0000;">1.74</span>  -<span style="color: #BB0000;">0.156</span>  1.53   -<span style="color: #BB0000;">0.721</span>  0.620   0.527   0.772</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00007  <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>      3.96   0.682  3.14    2.62   1.47    2.25    2.01 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00008   2.78  0.812 -<span style="color: #BB0000;">0.552</span>  0.982 -<span style="color: #BB0000;">0.101</span>  -<span style="color: #BB0000;">0.304</span>  0.376  -<span style="color: #BB0000;">0.826</span>   1.52 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00010   1.83  1.21  -<span style="color: #BB0000;">0.912</span> -<span style="color: #BB0000;">1.04</span>  -<span style="color: #BB0000;">0.091</span><span style="color: #BB0000; text-decoration: underline;">8</span> -<span style="color: #BB0000;">0.304</span>  1.69    0.092<span style="text-decoration: underline;">0</span>  2.04 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00011   3.48  4.96   3.50  -<span style="color: #BB0000;">0.338</span>  4.48    1.26   2.18    1.62    1.79 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00012   4.31  0.710 -<span style="color: #BB0000;">1.44</span>  -<span style="color: #BB0000;">0.218</span> -<span style="color: #BB0000;">0.469</span>  -<span style="color: #BB0000;">0.361</span> -<span style="color: #BB0000;">0.071</span><span style="color: #BB0000; text-decoration: underline;">4</span> -<span style="color: #BB0000;">1.30</span>    2.86 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00013   1.31  2.52   1.11   0.997  4.56   -<span style="color: #BB0000;">1.35</span>   0.833   2.33    3.57 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 429 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 92 more variables: ACTN4 &lt;dbl&gt;, ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM15 &lt;dbl&gt;, ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS16 &lt;dbl&gt;, ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG1 &lt;dbl&gt;, ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGR3 &lt;dbl&gt;, AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIF1 &lt;dbl&gt;, AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$test_set</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 147 × 102</span></span></span>
<span><span class="co">#&gt;    DAid  AARSD1  ABL1  ACAA1    ACAN  ACE2   ACOX1   ACP5    ACP6 ACTA2    ACTN4</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> DA00…  3.39  2.76   1.71   0.033<span style="text-decoration: underline;">3</span> 1.76  -<span style="color: #BB0000;">0.919</span>   1.54   2.15   2.81   0.742  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> DA00…  1.42  1.25  -<span style="color: #BB0000;">0.816</span> -<span style="color: #BB0000;">0.459</span>  0.826 -<span style="color: #BB0000;">0.902</span>   0.647  1.30   0.798 -<span style="color: #BB0000;">0.065</span><span style="color: #BB0000; text-decoration: underline;">9</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> DA00…  4.39  3.34  -<span style="color: #BB0000;">0.452</span> -<span style="color: #BB0000;">0.868</span>  0.395  1.71    1.49  -<span style="color: #BB0000;">0.028</span><span style="color: #BB0000; text-decoration: underline;">5</span> 0.200 -<span style="color: #BB0000;">0.532</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> DA00…  3.31  1.90  <span style="color: #BB0000;">NA</span>     -<span style="color: #BB0000;">0.926</span>  0.408  0.687   1.03   0.612  2.19   0.258  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> DA00…  1.46  0.832 -<span style="color: #BB0000;">2.73</span>  -<span style="color: #BB0000;">0.371</span>  2.27   0.023<span style="text-decoration: underline;">4</span>  0.144  0.826  1.98  -<span style="color: #BB0000;">0.280</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> DA00…  2.62  2.48   0.537 -<span style="color: #BB0000;">0.215</span>  1.82   0.290   1.27   1.11   0.206  1.23   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> DA00…  2.47  2.16  -<span style="color: #BB0000;">0.486</span> <span style="color: #BB0000;">NA</span>      0.386 <span style="color: #BB0000;">NA</span>       1.38   0.536  1.86   0.009<span style="text-decoration: underline;">82</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> DA00…  3.62  3.06  -<span style="color: #BB0000;">1.34</span>   0.965  1.05   1.53    0.152 -<span style="color: #BB0000;">0.124</span>  2.81   0.285  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> DA00…  4.39  3.31   0.454  0.290  2.68   0.116  -<span style="color: #BB0000;">1.32</span>   0.945  2.14  -<span style="color: #BB0000;">0.008</span><span style="color: #BB0000; text-decoration: underline;">81</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> DA00…  0.964 2.94   1.55   1.67   2.50   0.164   1.83   1.46   3.03   0.449  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 137 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 91 more variables: ACY1 &lt;dbl&gt;, ADA &lt;dbl&gt;, ADA2 &lt;dbl&gt;, ADAM15 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAM23 &lt;dbl&gt;, ADAM8 &lt;dbl&gt;, ADAMTS13 &lt;dbl&gt;, ADAMTS15 &lt;dbl&gt;, ADAMTS16 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADAMTS8 &lt;dbl&gt;, ADCYAP1R1 &lt;dbl&gt;, ADGRE2 &lt;dbl&gt;, ADGRE5 &lt;dbl&gt;, ADGRG1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ADGRG2 &lt;dbl&gt;, ADH4 &lt;dbl&gt;, ADM &lt;dbl&gt;, AGER &lt;dbl&gt;, AGR2 &lt;dbl&gt;, AGR3 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AGRN &lt;dbl&gt;, AGRP &lt;dbl&gt;, AGXT &lt;dbl&gt;, AHCY &lt;dbl&gt;, AHSP &lt;dbl&gt;, AIF1 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   AIFM1 &lt;dbl&gt;, AK1 &lt;dbl&gt;, AKR1B1 &lt;dbl&gt;, AKR1C4 &lt;dbl&gt;, AKT1S1 &lt;dbl&gt;, …</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hypopt_res$hypopt_vis</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res</span></span>
<span><span class="co">#&gt; $finalfit_res$final</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> multinom_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:  glmnet::glmnet(x = maybe_matrix(x), y = y, family = "multinomial",      alpha = ~0.222222222222222) </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;      Df  %Dev  Lambda</span></span>
<span><span class="co">#&gt; 1     0  0.00 0.65340</span></span>
<span><span class="co">#&gt; 2     2  0.19 0.59530</span></span>
<span><span class="co">#&gt; 3     2  0.43 0.54240</span></span>
<span><span class="co">#&gt; 4     3  0.73 0.49420</span></span>
<span><span class="co">#&gt; 5     5  1.09 0.45030</span></span>
<span><span class="co">#&gt; 6     6  1.57 0.41030</span></span>
<span><span class="co">#&gt; 7     7  2.12 0.37390</span></span>
<span><span class="co">#&gt; 8    10  2.76 0.34070</span></span>
<span><span class="co">#&gt; 9    10  3.49 0.31040</span></span>
<span><span class="co">#&gt; 10   17  4.44 0.28280</span></span>
<span><span class="co">#&gt; 11   21  5.63 0.25770</span></span>
<span><span class="co">#&gt; 12   24  6.96 0.23480</span></span>
<span><span class="co">#&gt; 13   36  8.51 0.21390</span></span>
<span><span class="co">#&gt; 14   41 10.26 0.19490</span></span>
<span><span class="co">#&gt; 15   47 12.19 0.17760</span></span>
<span><span class="co">#&gt; 16   56 14.28 0.16180</span></span>
<span><span class="co">#&gt; 17   61 16.41 0.14750</span></span>
<span><span class="co">#&gt; 18   69 18.63 0.13440</span></span>
<span><span class="co">#&gt; 19   74 20.92 0.12240</span></span>
<span><span class="co">#&gt; 20   81 23.21 0.11160</span></span>
<span><span class="co">#&gt; 21   88 25.52 0.10160</span></span>
<span><span class="co">#&gt; 22   89 27.85 0.09261</span></span>
<span><span class="co">#&gt; 23   93 30.17 0.08438</span></span>
<span><span class="co">#&gt; 24   94 32.54 0.07689</span></span>
<span><span class="co">#&gt; 25   95 34.87 0.07006</span></span>
<span><span class="co">#&gt; 26   95 37.17 0.06383</span></span>
<span><span class="co">#&gt; 27   95 39.42 0.05816</span></span>
<span><span class="co">#&gt; 28   97 41.64 0.05300</span></span>
<span><span class="co">#&gt; 29   98 43.86 0.04829</span></span>
<span><span class="co">#&gt; 30  100 46.02 0.04400</span></span>
<span><span class="co">#&gt; 31  100 48.11 0.04009</span></span>
<span><span class="co">#&gt; 32  100 50.17 0.03653</span></span>
<span><span class="co">#&gt; 33  100 52.16 0.03328</span></span>
<span><span class="co">#&gt; 34  100 54.09 0.03033</span></span>
<span><span class="co">#&gt; 35  100 55.98 0.02763</span></span>
<span><span class="co">#&gt; 36  100 57.83 0.02518</span></span>
<span><span class="co">#&gt; 37  100 59.62 0.02294</span></span>
<span><span class="co">#&gt; 38  100 61.38 0.02090</span></span>
<span><span class="co">#&gt; 39  100 63.10 0.01905</span></span>
<span><span class="co">#&gt; 40  100 64.78 0.01735</span></span>
<span><span class="co">#&gt; 41  100 66.42 0.01581</span></span>
<span><span class="co">#&gt; 42  100 68.00 0.01441</span></span>
<span><span class="co">#&gt; 43  100 69.52 0.01313</span></span>
<span><span class="co">#&gt; 44  100 71.00 0.01196</span></span>
<span><span class="co">#&gt; 45  100 72.42 0.01090</span></span>
<span><span class="co">#&gt; 46  100 73.79 0.00993</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ...</span></span>
<span><span class="co">#&gt; and 54 more lines.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$best</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   penalty mixture</span></span>
<span><span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  0.077<span style="text-decoration: underline;">4</span>   0.222</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $finalfit_res$final_wf</span></span>
<span><span class="co">#&gt; ══ Workflow ════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> multinom_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 4 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; • step_normalize()</span></span>
<span><span class="co">#&gt; • step_nzv()</span></span>
<span><span class="co">#&gt; • step_corr()</span></span>
<span><span class="co">#&gt; • step_impute_knn()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Multinomial Regression Model Specification (classification)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Main Arguments:</span></span>
<span><span class="co">#&gt;   penalty = 0.0774263682681128</span></span>
<span><span class="co">#&gt;   mixture = 0.222222222222222</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computational engine: glmnet </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $roc_curve</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-6-2.png" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $auc</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 2</span></span></span>
<span><span class="co">#&gt;    Disease   AUC</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AML     0.990</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> BRC     0.717</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> CLL     0.996</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> CRC     0.933</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> CVX     0.825</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> ENDC    0.693</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GLIOM   0.845</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> LUNGC   0.849</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> LYMPH   0.821</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> MYEL    0.991</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> OVC     0.912</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> PRC     0.866</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $auc_barplot</span></span></code></pre>
<p><img src="classification_files/figure-html/unnamed-chunk-6-3.png" width="700"></p>
<p>Finally, let’s use the <code><a href="../reference/plot_features_summary.html">plot_features_summary()</a></code> to
summarize our model results. We can create models of different cases and
controls and compare them like we did in the Get Started vignette.
However, we can also compare different models. Let’s run two different
models for two different cases and summarize them.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ridge_aml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_rreg.html">do_rreg</a></span><span class="op">(</span><span class="va">wide_data</span>, </span>
<span>                     <span class="va">metadata</span>, </span>
<span>                     case <span class="op">=</span> <span class="st">"AML"</span>, </span>
<span>                     control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"GLIOM"</span><span class="op">)</span>, </span>
<span>                     type <span class="op">=</span> <span class="st">"ridge"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for AML as case is starting...</span></span>
<span></span>
<span><span class="va">rf_aml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_rf.html">do_rf</a></span><span class="op">(</span><span class="va">wide_data</span>, <span class="va">metadata</span>, case <span class="op">=</span> <span class="st">"AML"</span>, control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"GLIOM"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for AML as case is starting...</span></span>
<span></span>
<span><span class="va">ridge_gliom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_rreg.html">do_rreg</a></span><span class="op">(</span><span class="va">wide_data</span>, </span>
<span>                       <span class="va">metadata</span>, </span>
<span>                       case <span class="op">=</span> <span class="st">"GLIOM"</span>, </span>
<span>                       control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"AML"</span><span class="op">)</span>, </span>
<span>                       type <span class="op">=</span> <span class="st">"ridge"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for GLIOM as case is starting...</span></span>
<span></span>
<span><span class="va">rf_gliom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/do_rf.html">do_rf</a></span><span class="op">(</span><span class="va">wide_data</span>, <span class="va">metadata</span>, case <span class="op">=</span> <span class="st">"GLIOM"</span>, control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CLL"</span>, <span class="st">"MYEL"</span>, <span class="st">"AML"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(DAid)`</span></span>
<span><span class="co">#&gt; Sets and groups are ready. Model fitting is starting...</span></span>
<span><span class="co">#&gt; Classification model for GLIOM as case is starting...</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_features_summary.html">plot_features_summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Ridge_AML"</span> <span class="op">=</span> <span class="va">ridge_aml</span>, </span>
<span>                                  <span class="st">"RF_AML"</span> <span class="op">=</span> <span class="va">rf_aml</span>, </span>
<span>                                  <span class="st">"Ridge_GLIOM"</span> <span class="op">=</span> <span class="va">ridge_gliom</span>, </span>
<span>                                  <span class="st">"RF_GLIOM"</span> <span class="op">=</span> <span class="va">rf_gliom</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`Ridge_AML&amp;RF_AML&amp;Ridge_GLIOM&amp;RF_GLIOM`</span></span>
<span><span class="co">#&gt;  [1] "ADA"       "AGR2"      "ACAN"      "ACP6"      "AZU1"      "ANGPT2"   </span></span>
<span><span class="co">#&gt;  [7] "ANGPTL2"   "ANGPT1"    "ANXA11"    "ADGRG1"    "AGRP"      "ARSB"     </span></span>
<span><span class="co">#&gt; [13] "AK1"       "ATP6V1F"   "ANGPTL7"   "AMY2B"     "ART3"      "ANGPTL3"  </span></span>
<span><span class="co">#&gt; [19] "AHCY"      "APOM"      "ADGRG2"    "ARTN"      "AMIGO2"    "ATXN10"   </span></span>
<span><span class="co">#&gt; [25] "ADAM8"     "ACY1"      "ALPP"      "ANXA10"    "APP"       "ARID4B"   </span></span>
<span><span class="co">#&gt; [31] "AHSP"      "AIF1"      "APBB1IP"   "ARHGEF12"  "AMBP"      "ANG"      </span></span>
<span><span class="co">#&gt; [37] "ATOX1"     "ANGPTL4"   "AARSD1"    "AOC3"      "ARSA"      "APLP1"    </span></span>
<span><span class="co">#&gt; [43] "AMY2A"     "ADAMTS13"  "ARHGAP25"  "ACOX1"     "ABL1"      "ANXA5"    </span></span>
<span><span class="co">#&gt; [49] "AMBN"      "ATP6AP2"   "AXL"       "AREG"      "ATP5PO"    "ADAMTS16" </span></span>
<span><span class="co">#&gt; [55] "ANGPTL1"   "ATG4A"     "ADGRE5"    "AXIN1"     "AIFM1"     "ADAM23"   </span></span>
<span><span class="co">#&gt; [61] "AKT3"      "ADGRE2"    "ARG1"      "ANKRD54"   "ADAMTS15"  "APOH"     </span></span>
<span><span class="co">#&gt; [67] "AGR3"      "AKR1C4"    "AMN"       "AOC1"      "ANXA4"     "APEX1"    </span></span>
<span><span class="co">#&gt; [73] "AMFR"      "AGRN"      "ADCYAP1R1" "ANPEP"     "ALDH3A1"   "ADM"      </span></span>
<span><span class="co">#&gt; [79] "ALDH1A1"   "AGXT"      "ACAA1"     "ACP5"      "AGER"      "ACTN4"    </span></span>
<span><span class="co">#&gt; [85] "B4GALT1"   "ALCAM"     "AKT1S1"    "ANXA3"     "ACE2"      "ATP6V1D"  </span></span>
<span><span class="co">#&gt; [91] "ATP5IF1"   "ATF2"      "ACTA2"     "ARNT"      "ADA2"      "ADAMTS8"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Ridge_AML&amp;Ridge_GLIOM&amp;RF_GLIOM`</span></span>
<span><span class="co">#&gt;  [1] "ADA"       "AGR2"      "ACAN"      "ACP6"      "AZU1"      "ANGPT2"   </span></span>
<span><span class="co">#&gt;  [7] "ANGPTL2"   "ANGPT1"    "ANXA11"    "ADGRG1"    "AGRP"      "ARSB"     </span></span>
<span><span class="co">#&gt; [13] "AK1"       "ATP6V1F"   "ANGPTL7"   "AMY2B"     "ART3"      "ANGPTL3"  </span></span>
<span><span class="co">#&gt; [19] "AHCY"      "APOM"      "ADGRG2"    "ARTN"      "AMIGO2"    "ATXN10"   </span></span>
<span><span class="co">#&gt; [25] "ADAM8"     "ACY1"      "ALPP"      "ANXA10"    "APP"       "ARID4B"   </span></span>
<span><span class="co">#&gt; [31] "AHSP"      "AIF1"      "APBB1IP"   "ARHGEF12"  "AMBP"      "ANG"      </span></span>
<span><span class="co">#&gt; [37] "ATOX1"     "ANGPTL4"   "AARSD1"    "AOC3"      "ARSA"      "APLP1"    </span></span>
<span><span class="co">#&gt; [43] "AMY2A"     "ADAMTS13"  "ARHGAP25"  "ACOX1"     "ABL1"      "ANXA5"    </span></span>
<span><span class="co">#&gt; [49] "AMBN"      "ATP6AP2"   "AXL"       "AREG"      "ATP5PO"    "ADAMTS16" </span></span>
<span><span class="co">#&gt; [55] "ANGPTL1"   "ATG4A"     "ADGRE5"    "AXIN1"     "AIFM1"     "ADAM23"   </span></span>
<span><span class="co">#&gt; [61] "AKT3"      "ADGRE2"    "ARG1"      "ANKRD54"   "ADAMTS15"  "APOH"     </span></span>
<span><span class="co">#&gt; [67] "AGR3"      "AKR1C4"    "AMN"       "AOC1"      "ANXA4"     "APEX1"    </span></span>
<span><span class="co">#&gt; [73] "AMFR"      "ARHGAP1"   "AGRN"      "ADCYAP1R1" "ANPEP"     "ALDH3A1"  </span></span>
<span><span class="co">#&gt; [79] "ADM"       "ALDH1A1"   "AGXT"      "ACAA1"     "ACP5"      "AGER"     </span></span>
<span><span class="co">#&gt; [85] "ACTN4"     "B4GALT1"   "ALCAM"     "AKT1S1"    "ANXA3"     "ACE2"     </span></span>
<span><span class="co">#&gt; [91] "ATP6V1D"   "ATP5IF1"   "ATF2"      "ACTA2"     "ARNT"      "ADA2"     </span></span>
<span><span class="co">#&gt; [97] "ADAMTS8"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Ridge_AML&amp;RF_AML&amp;Ridge_GLIOM`</span></span>
<span><span class="co">#&gt;  [1] "ADA"       "AGR2"      "ACAN"      "ACP6"      "AZU1"      "ANGPT2"   </span></span>
<span><span class="co">#&gt;  [7] "ANGPTL2"   "ANGPT1"    "ANXA11"    "ADGRG1"    "AGRP"      "ARSB"     </span></span>
<span><span class="co">#&gt; [13] "AK1"       "ATP6V1F"   "ANGPTL7"   "AMY2B"     "ART3"      "ANGPTL3"  </span></span>
<span><span class="co">#&gt; [19] "AHCY"      "APOM"      "ADGRG2"    "ARTN"      "AMIGO2"    "ATXN10"   </span></span>
<span><span class="co">#&gt; [25] "ADAM8"     "ACY1"      "ALPP"      "ANXA10"    "APP"       "ARID4B"   </span></span>
<span><span class="co">#&gt; [31] "AHSP"      "AIF1"      "APBB1IP"   "ARHGEF12"  "AMBP"      "ANG"      </span></span>
<span><span class="co">#&gt; [37] "ATOX1"     "ANGPTL4"   "AARSD1"    "AOC3"      "ARSA"      "APLP1"    </span></span>
<span><span class="co">#&gt; [43] "AMY2A"     "ADAMTS13"  "ARHGAP25"  "ACOX1"     "ABL1"      "ANXA5"    </span></span>
<span><span class="co">#&gt; [49] "AMBN"      "ATP6AP2"   "AXL"       "AREG"      "ATP5PO"    "ADAMTS16" </span></span>
<span><span class="co">#&gt; [55] "ANGPTL1"   "ATG4A"     "ADGRE5"    "AXIN1"     "AIFM1"     "ADAM23"   </span></span>
<span><span class="co">#&gt; [61] "AKT3"      "ADGRE2"    "ARG1"      "ANKRD54"   "ADAMTS15"  "APOH"     </span></span>
<span><span class="co">#&gt; [67] "AGR3"      "AKR1C4"    "AMN"       "AOC1"      "ANXA4"     "APEX1"    </span></span>
<span><span class="co">#&gt; [73] "AMFR"      "AGRN"      "ADH4"      "ADCYAP1R1" "ANPEP"     "ALDH3A1"  </span></span>
<span><span class="co">#&gt; [79] "ADM"       "ALDH1A1"   "AGXT"      "ACAA1"     "ACP5"      "AGER"     </span></span>
<span><span class="co">#&gt; [85] "ACTN4"     "B4GALT1"   "ALCAM"     "AKT1S1"    "ANXA3"     "ACE2"     </span></span>
<span><span class="co">#&gt; [91] "ATP6V1D"   "ATP5IF1"   "ATF2"      "ACTA2"     "ARNT"      "ADA2"     </span></span>
<span><span class="co">#&gt; [97] "ADAMTS8"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`Ridge_AML&amp;RF_AML&amp;RF_GLIOM`</span></span>
<span><span class="co">#&gt;  [1] "ADA"       "AGR2"      "ACAN"      "ACP6"      "AZU1"      "ANGPT2"   </span></span>
<span><span class="co">#&gt;  [7] "ANGPTL2"   "ANGPT1"    "ANXA11"    "ADGRG1"    "AGRP"      "ARSB"     </span></span>
<span><span class="co">#&gt; [13] "AK1"       "ATP6V1F"   "ANGPTL7"   "AMY2B"     "ART3"      "ANGPTL3"  </span></span>
<span><span class="co">#&gt; [19] "AHCY"      "APOM"      "ADGRG2"    "ARTN"      "AMIGO2"    "ATXN10"   </span></span>
<span><span class="co">#&gt; [25] "ADAM8"     "ACY1"      "ALPP"      "ANXA10"    "APP"       "ARID4B"   </span></span>
<span><span class="co">#&gt; [31] "AHSP"      "AIF1"      "APBB1IP"   "ARHGEF12"  "AMBP"      "ANG"      </span></span>
<span><span class="co">#&gt; [37] "ATOX1"     "ANGPTL4"   "AARSD1"    "AOC3"      "ARSA"      "APLP1"    </span></span>
<span><span class="co">#&gt; [43] "AMY2A"     "ADAMTS13"  "ARHGAP25"  "ACOX1"     "ABL1"      "ANXA5"    </span></span>
<span><span class="co">#&gt; [49] "AMBN"      "ATP6AP2"   "AXL"       "AREG"      "ATP5PO"    "ADAMTS16" </span></span>
<span><span class="co">#&gt; [55] "ANGPTL1"   "ATG4A"     "ADGRE5"    "AXIN1"     "AIFM1"     "ADAM23"   </span></span>
<span><span class="co">#&gt; [61] "AKT3"      "ADGRE2"    "ARG1"      "ANKRD54"   "ADAMTS15"  "APOH"     </span></span>
<span><span class="co">#&gt; [67] "AGR3"      "AKR1C4"    "AMN"       "AOC1"      "ANXA4"     "APEX1"    </span></span>
<span><span class="co">#&gt; [73] "AMFR"      "AGRN"      "ADCYAP1R1" "ANPEP"     "ALDH3A1"   "ADM"      </span></span>
<span><span class="co">#&gt; [79] "ALDH1A1"   "AGXT"      "AKR1B1"    "ACAA1"     "ACP5"      "AGER"     </span></span>
<span><span class="co">#&gt; [85] "ACTN4"     "B4GALT1"   "ALCAM"     "AKT1S1"    "ANXA3"     "ACE2"     </span></span>
<span><span class="co">#&gt; [91] "ATP6V1D"   "ATP5IF1"   "ATF2"      "ACTA2"     "ARNT"      "ADA2"     </span></span>
<span><span class="co">#&gt; [97] "ADAMTS8"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`RF_AML&amp;Ridge_GLIOM&amp;RF_GLIOM`</span></span>
<span><span class="co">#&gt;  [1] "ADA"       "AZU1"      "AGR2"      "ANGPT1"    "ANXA11"    "ACAN"     </span></span>
<span><span class="co">#&gt;  [7] "AMY2B"     "AGRP"      "ACP6"      "ANXA10"    "ANGPT2"    "ARTN"     </span></span>
<span><span class="co">#&gt; [13] "ADGRE2"    "ANGPTL2"   "ADGRG1"    "ARSB"      "ADGRG2"    "ATP6V1F"  </span></span>
<span><span class="co">#&gt; [19] "AHCY"      "ADAMTS13"  "APBB1IP"   "AIF1"      "ANGPTL3"   "AHSP"     </span></span>
<span><span class="co">#&gt; [25] "AK1"       "ATG4A"     "ANXA3"     "AMY2A"     "ADAM15"    "APEX1"    </span></span>
<span><span class="co">#&gt; [31] "APOM"      "ART3"      "ARID4B"    "ADAM23"    "ALPP"      "ATP5IF1"  </span></span>
<span><span class="co">#&gt; [37] "ACAA1"     "AREG"      "ANKRD54"   "ARHGEF12"  "AOC1"      "APP"      </span></span>
<span><span class="co">#&gt; [43] "AOC3"      "AXL"       "AKT3"      "ANG"       "ATXN10"    "AGRN"     </span></span>
<span><span class="co">#&gt; [49] "ATP6AP2"   "ADA2"      "APLP1"     "ADCYAP1R1" "AARSD1"    "ACOX1"    </span></span>
<span><span class="co">#&gt; [55] "ATOX1"     "AIFM1"     "AGXT"      "ARSA"      "ARHGAP25"  "AGER"     </span></span>
<span><span class="co">#&gt; [61] "AMIGO2"    "ABL1"      "ANGPTL1"   "ANGPTL4"   "ADM"       "ADGRE5"   </span></span>
<span><span class="co">#&gt; [67] "ANXA4"     "AMN"       "ADAM8"     "ANXA5"     "ACE2"      "ANGPTL7"  </span></span>
<span><span class="co">#&gt; [73] "AMFR"      "ALDH1A1"   "ACP5"      "B4GALT1"   "AKR1C4"    "ARNT"     </span></span>
<span><span class="co">#&gt; [79] "AGR3"      "ATP6V1D"   "ATF2"      "ALCAM"     "ADAMTS16"  "ARG1"     </span></span>
<span><span class="co">#&gt; [85] "AXIN1"     "ADAMTS15"  "APOH"      "ATP5PO"    "ADAMTS8"   "ALDH3A1"  </span></span>
<span><span class="co">#&gt; [91] "ACTN4"     "AMBP"      "ACTA2"     "AMBN"      "AKT1S1"    "ANPEP"    </span></span>
<span><span class="co">#&gt; [97] "ACY1"</span></span>
<span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">features_barplot</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">upset_plot_features</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">metrics_lineplot</span></span></code></pre></div>
<p><img src="classification_files/figure-html/unnamed-chunk-8-3.png" width="700"></p>
<p>From the last plot we can quickly see that the Ridge regression model
works better for Glioma classification, while the Random Forest model
works better for AML classification.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Konstantinos Antonopoulos, Maria Bueno Alvez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Provided without <strong>any warranty</strong>.</p>
</div>

    </footer>
</div>





  
</body>
</html>
